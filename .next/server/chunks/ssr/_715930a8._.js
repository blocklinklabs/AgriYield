module.exports=[77991,a=>{"use strict";a.s(["ChevronDownIcon",()=>b],77991);let b=(0,a.i(70106).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},16201,a=>{"use strict";a.s(["CheckCircle",()=>b],16201);let b=(0,a.i(70106).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3130,a=>{"use strict";a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f]);var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}},210,a=>{"use strict";a.s(["ArrowLeft",()=>b],210);let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},24987,a=>{"use strict";a.s(["MapPin",()=>b],24987);let b=(0,a.i(70106).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},70582,a=>{"use strict";a.s(["default",()=>z],70582);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(40695),f=a.i(3130),g=a.i(5522),h=a.i(97895);function i({className:a,...c}){return(0,b.jsx)("textarea",{"data-slot":"textarea",className:(0,h.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...c})}var j=a.i(87682),k=a.i(30553),l=c.forwardRef((a,c)=>(0,b.jsx)(k.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));function m({className:a,...c}){return(0,b.jsx)(l,{"data-slot":"label",className:(0,h.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...c})}l.displayName="Label";var n=a.i(54161),o=a.i(68515),p=a.i(23292),q=a.i(70047),r=a.i(24987),s=a.i(70106);let t=(0,s.default)("droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),u=(0,s.default)("cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),v=(0,s.default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var w=a.i(73320),x=a.i(210),y=a.i(16201);function z(){let a=(0,d.useRouter)(),{wallet:k,farmData:l,addFarmData:s,earnBadge:z}=(0,o.useAppStore)(),[A,B]=(0,c.useState)({cropType:"",location:"",soilMoisture:"",weatherNotes:"",photo:null}),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)(0);(0,c.useEffect)(()=>{k.isConnected||a.push("/")},[k.isConnected,a]);let I=(a,b)=>{B(c=>({...c,[a]:b}))},J=async a=>{a.preventDefault(),D(!0);try{await new Promise(a=>setTimeout(a,2e3));let a="";if(A.photo){let b=new FileReader;a=await new Promise(a=>{b.onload=()=>a(b.result),b.readAsDataURL(A.photo)})}s({cropType:A.cropType,location:A.location,soilMoisture:parseFloat(A.soilMoisture),weatherNotes:A.weatherNotes,photo:a});let b=(0,h.mockHBARReward)();H(b),l.length>=2&&z("data-contributor"),F(!0),p.toast.success(`Data submitted successfully! Earned ${b.toFixed(2)} HBAR`),setTimeout(()=>{B({cropType:"",location:"",soilMoisture:"",weatherNotes:"",photo:null}),F(!1),H(0)},3e3)}catch(a){console.error("Failed to submit data:",a),p.toast.error("Failed to submit data. Please try again.")}finally{D(!1)}};return k.isConnected?E?(0,b.jsx)("div",{className:"w-full",children:(0,b.jsxs)(f.Card,{className:"dashboard-card text-center",children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(y.CheckCircle,{className:"h-16 w-16 text-green-600 mx-auto mb-4"}),(0,b.jsx)(f.CardTitle,{className:"text-2xl",children:"Data Submitted Successfully!"}),(0,b.jsx)(f.CardDescription,{children:"Thank you for contributing to the AgriYield network"})]}),(0,b.jsxs)(f.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-950 rounded-lg",children:[(0,b.jsxs)("p",{className:"text-lg font-semibold text-green-600",children:["Earned ",G.toFixed(2)," HBAR"]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Rewards will be added to your wallet"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e.Button,{className:"flex-1 btn-primary",onClick:()=>a.push("/dashboard"),children:"View Dashboard"}),(0,b.jsx)(e.Button,{variant:"outline",className:"flex-1",onClick:()=>F(!1),children:"Submit More Data"})]})]})]})}):(0,b.jsxs)("div",{className:"w-full space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",onClick:()=>a.push("/dashboard"),children:[(0,b.jsx)(x.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Submit Farm Data"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Help improve yield predictions by sharing your farm data"})]})]}),(0,b.jsxs)(f.Card,{className:"dashboard-card",children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(q.Leaf,{className:"h-5 w-5"}),"Farm Data Collection"]}),(0,b.jsx)(f.CardDescription,{children:"Earn HBAR tokens by contributing data to the network"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("form",{onSubmit:J,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(m,{htmlFor:"cropType",className:"flex items-center gap-2",children:[(0,b.jsx)(q.Leaf,{className:"h-4 w-4"}),"Crop Type"]}),(0,b.jsxs)(j.Select,{value:A.cropType,onValueChange:a=>I("cropType",a),children:[(0,b.jsx)(j.SelectTrigger,{children:(0,b.jsx)(j.SelectValue,{placeholder:"Select crop type"})}),(0,b.jsx)(j.SelectContent,{children:["Maize","Cocoa","Rice","Wheat","Cassava","Sorghum","Millet","Groundnut"].map(a=>(0,b.jsx)(j.SelectItem,{value:a,children:a},a))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(m,{htmlFor:"location",className:"flex items-center gap-2",children:[(0,b.jsx)(r.MapPin,{className:"h-4 w-4"}),"Location"]}),(0,b.jsx)(g.Input,{id:"location",placeholder:"Enter your farm location (e.g., Village, District)",value:A.location,onChange:a=>I("location",a.target.value),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(m,{htmlFor:"soilMoisture",className:"flex items-center gap-2",children:[(0,b.jsx)(t,{className:"h-4 w-4"}),"Soil Moisture (%)"]}),(0,b.jsx)(g.Input,{id:"soilMoisture",type:"number",min:"0",max:"100",placeholder:"Enter soil moisture percentage",value:A.soilMoisture,onChange:a=>I("soilMoisture",a.target.value),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(m,{htmlFor:"weatherNotes",className:"flex items-center gap-2",children:[(0,b.jsx)(u,{className:"h-4 w-4"}),"Weather Notes"]}),(0,b.jsx)(i,{id:"weatherNotes",placeholder:"Describe recent weather conditions, rainfall, temperature, etc.",value:A.weatherNotes,onChange:a=>I("weatherNotes",a.target.value),rows:3})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(m,{htmlFor:"photo",className:"flex items-center gap-2",children:[(0,b.jsx)(v,{className:"h-4 w-4"}),"Farm Photo (Optional)"]}),(0,b.jsxs)("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center",children:[(0,b.jsx)(w.Upload,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:"Upload a photo of your farm"}),(0,b.jsx)(g.Input,{id:"photo",type:"file",accept:"image/*",onChange:a=>{let b=a.target.files?.[0];b&&B(a=>({...a,photo:b}))},className:"max-w-xs mx-auto"}),A.photo&&(0,b.jsx)(n.Badge,{variant:"secondary",className:"mt-2",children:A.photo.name})]})]}),(0,b.jsx)(e.Button,{type:"submit",className:"w-full btn-primary",size:"lg",disabled:C||!A.cropType||!A.location||!A.soilMoisture,children:C?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(q.Leaf,{className:"mr-2 h-4 w-4"}),"Submit Data & Earn HBAR"]})})]})})]}),(0,b.jsxs)(f.Card,{className:"dashboard-card",children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(y.CheckCircle,{className:"h-5 w-5"}),"Your Recent Submissions"]}),(0,b.jsx)(f.CardDescription,{children:"Track your data contributions and rewards"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-3",children:[l.slice(-3).reverse().map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center",children:(0,b.jsx)(q.Leaf,{className:"h-5 w-5 text-green-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold",children:a.cropType}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.location})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-green-600",children:"+2.5 HBAR"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.timestamp.toLocaleDateString()})]})]},a.id)),0===l.length&&(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(q.Leaf,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"No submissions yet. Submit your first farm data above!"})]})]})})]}),(0,b.jsx)(f.Card,{className:"dashboard-card",children:(0,b.jsx)(f.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h3",{className:"font-semibold mb-2",children:"Why Submit Data?"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Your data helps improve AI predictions for all farmers. Earn HBAR tokens for each submission."}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,b.jsxs)("div",{className:"p-3 bg-blue-50 dark:bg-blue-950 rounded-lg",children:[(0,b.jsx)("p",{className:"font-semibold text-blue-600",children:"Better Predictions"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Improve AI accuracy"})]}),(0,b.jsxs)("div",{className:"p-3 bg-green-50 dark:bg-green-950 rounded-lg",children:[(0,b.jsx)("p",{className:"font-semibold text-green-600",children:"Earn Rewards"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Get HBAR tokens"})]}),(0,b.jsxs)("div",{className:"p-3 bg-purple-50 dark:bg-purple-950 rounded-lg",children:[(0,b.jsx)("p",{className:"font-semibold text-purple-600",children:"Help Community"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Support other farmers"})]})]})]})})})]}):null}}];

//# sourceMappingURL=_715930a8._.js.map