module.exports=[3130,a=>{"use strict";a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f]);var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}},210,a=>{"use strict";a.s(["ArrowLeft",()=>b],210);let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},77991,a=>{"use strict";a.s(["ChevronDownIcon",()=>b],77991);let b=(0,a.i(70106).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},24669,a=>{"use strict";a.s(["TrendingUp",()=>b],24669);let b=(0,a.i(70106).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},3314,a=>{"use strict";a.s(["Shield",()=>b],3314);let b=(0,a.i(70106).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},18709,a=>{"use strict";a.s(["default",()=>t],18709);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(40695),f=a.i(3130),g=a.i(5522),h=a.i(87682),i=a.i(54161),j=a.i(68515),k=a.i(97895),l=a.i(23292),m=a.i(90166),n=a.i(210),o=a.i(3314),p=a.i(24669),q=a.i(70106);let r=(0,q.default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),s=(0,q.default)("coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);function t(){let a=(0,d.useRouter)(),{wallet:q,yieldPredictions:t,loans:u,harvestTokens:v,addLoan:w,addHarvestToken:x,earnBadge:y}=(0,j.useAppStore)(),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(!1);(0,c.useEffect)(()=>{q.isConnected||a.push("/")},[q.isConnected,a]);let H=async a=>{E(!0);try{await new Promise(a=>setTimeout(a,2e3)),w({amount:a.amount,interestRate:a.interestRate,status:"active",collateral:[B],startDate:new Date,endDate:new Date(Date.now()+15552e6)}),0===u.length&&y("loan-borrower"),l.toast.success(`Loan of ${(0,k.formatCurrency)(a.amount)} approved!`)}catch(a){console.error("Failed to apply for loan:",a),l.toast.error("Failed to apply for loan. Please try again.")}finally{E(!1)}},I=async()=>{if(!B||!z)return void l.toast.error("Please select a crop and enter amount");G(!0);try{await new Promise(a=>setTimeout(a,3e3)),x({cropType:B,amount:parseFloat(z),tokenizedAmount:10*parseFloat(z),status:"tokenized"}),0===v.length&&y("token-holder"),l.toast.success("Harvest tokenized successfully!")}catch(a){console.error("Failed to tokenize harvest:",a),l.toast.error("Failed to tokenize harvest. Please try again.")}finally{G(!1)}},J=u.find(a=>"active"===a.status),K=t.filter(a=>a.cropType===B),L=K[K.length-1];return q.isConnected?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",onClick:()=>a.push("/dashboard"),children:[(0,b.jsx)(n.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Lending & Tokenization"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Access loans using your harvest as collateral"})]})]}),J&&(0,b.jsxs)(f.Card,{className:"dashboard-card",children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(r,{className:"h-5 w-5"}),"Active Loan"]})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-950 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-lg",children:(0,k.formatCurrency)(J.amount)}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Interest Rate: ",J.interestRate,"% APR"]})]}),(0,b.jsx)(i.Badge,{variant:"default",children:"Active"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Start Date"}),(0,b.jsx)("p",{className:"font-semibold",children:(0,k.formatDate)(J.startDate)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Due Date"}),(0,b.jsx)("p",{className:"font-semibold",children:(0,k.formatDate)(J.endDate)})]})]})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(f.Card,{className:"dashboard-card",children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(s,{className:"h-5 w-5"}),"Tokenize Your Harvest"]}),(0,b.jsx)(f.CardDescription,{children:"Convert your harvest into tradeable tokens for collateral"})]}),(0,b.jsxs)(f.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium",children:"Select Crop"}),(0,b.jsxs)(h.Select,{value:B,onValueChange:C,children:[(0,b.jsx)(h.SelectTrigger,{children:(0,b.jsx)(h.SelectValue,{placeholder:"Choose crop to tokenize"})}),(0,b.jsx)(h.SelectContent,{children:["Maize","Cocoa","Rice","Wheat","Cassava"].map(a=>(0,b.jsx)(h.SelectItem,{value:a,children:a},a))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium",children:"Harvest Amount (tons)"}),(0,b.jsx)(g.Input,{type:"number",placeholder:"Enter harvest amount",value:z,onChange:a=>A(a.target.value)})]}),L&&(0,b.jsxs)("div",{className:"p-3 bg-green-50 dark:bg-green-950 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(p.TrendingUp,{className:"h-4 w-4 text-green-600"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"Yield Prediction Available"})]}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Predicted yield: ",L.predictedYield," tons",(0,b.jsx)("br",{}),"Risk level: ",L.riskLevel,"%"]})]}),(0,b.jsx)(e.Button,{className:"w-full btn-primary",onClick:I,disabled:F||!B||!z,children:F?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Tokenizing..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s,{className:"mr-2 h-4 w-4"}),"Tokenize Harvest"]})})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(m.DollarSign,{className:"h-5 w-5"}),"Available Loans"]}),(0,b.jsx)(f.CardDescription,{children:"Apply for loans using your tokenized harvest as collateral"})]}),(0,b.jsx)(f.CardContent,{className:"space-y-4",children:[{id:"loan-1",amount:500,interestRate:5.5,term:"6 months",collateral:"Maize harvest tokens",description:"Low-risk loan for established farmers"},{id:"loan-2",amount:1e3,interestRate:7.2,term:"12 months",collateral:"Cocoa harvest tokens",description:"Medium-term loan for crop expansion"},{id:"loan-3",amount:2e3,interestRate:9.8,term:"18 months",collateral:"Mixed harvest tokens",description:"Long-term loan for farm improvements"}].map(a=>(0,b.jsxs)("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"font-semibold",children:(0,k.formatCurrency)(a.amount)}),(0,b.jsx)(i.Badge,{variant:"outline",children:a.term})]}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:a.description}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Interest Rate"}),(0,b.jsxs)("p",{className:"font-semibold",children:[a.interestRate,"% APR"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Collateral"}),(0,b.jsx)("p",{className:"font-semibold",children:a.collateral})]})]}),(0,b.jsx)(e.Button,{className:"w-full",onClick:()=>H(a),disabled:D||!!J,children:D?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r,{className:"mr-2 h-4 w-4"}),"Apply for Loan"]})})]},a.id))})]})]}),v.length>0&&(0,b.jsxs)(f.Card,{className:"mt-8",children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(o.Shield,{className:"h-5 w-5"}),"Your Tokenized Assets"]}),(0,b.jsx)(f.CardDescription,{children:"Manage your tokenized harvest assets"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"space-y-4",children:v.map(a=>(0,b.jsxs)("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h3",{className:"font-semibold",children:a.cropType}),(0,b.jsx)(i.Badge,{variant:"tokenized"===a.status?"default":"secondary",children:a.status})]}),(0,b.jsx)("span",{className:"text-sm text-gray-500",children:(0,k.formatDate)(new Date)})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Physical Amount"}),(0,b.jsxs)("p",{className:"font-semibold",children:[a.amount," tons"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Tokenized Amount"}),(0,b.jsxs)("p",{className:"font-semibold",children:[a.tokenizedAmount," tokens"]})]})]})]},a.id))})})]}),(0,b.jsx)(f.Card,{className:"mt-8",children:(0,b.jsx)(f.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h3",{className:"font-semibold mb-4",children:"How It Works"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-sm",children:[(0,b.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-950 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(s,{className:"h-5 w-5 text-blue-600"}),(0,b.jsx)("span",{className:"font-semibold",children:"1. Tokenize"})]}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Convert your harvest into blockchain tokens"})]}),(0,b.jsxs)("div",{className:"p-4 bg-green-50 dark:bg-green-950 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(o.Shield,{className:"h-5 w-5 text-green-600"}),(0,b.jsx)("span",{className:"font-semibold",children:"2. Collateral"})]}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Use tokens as collateral for loans"})]}),(0,b.jsxs)("div",{className:"p-4 bg-purple-50 dark:bg-purple-950 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(m.DollarSign,{className:"h-5 w-5 text-purple-600"}),(0,b.jsx)("span",{className:"font-semibold",children:"3. Access Funds"})]}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Get immediate access to capital"})]})]})]})})})]}):null}}];

//# sourceMappingURL=_2dfc11d1._.js.map